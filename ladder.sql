CREATE TABLE "challenges" ("id" INTEGER PRIMARY KEY ,"opponent" INTEGER,"challenger" INTEGER,"date" INTEGER,"challenger_result" INTEGER NOT NULL  DEFAULT 0 , "opponent_result" INTEGER NOT NULL  DEFAULT 0);
CREATE TABLE "matches" ("id" INTEGER PRIMARY KEY ,"date" INTEGER,"loser" INTEGER,"winner" INTEGER, "forfeit" INTEGER NOT NULL  DEFAULT 0);
CREATE TABLE "rank_history" ("match_id" INTEGER NOT NULL ,"rank" INTEGER NOT NULL , "user_id" INTEGER);
CREATE TABLE "users" ("id" INTEGER PRIMARY KEY ,"name" TEXT,"login" TEXT,"password" TEXT,"rank" INTEGER,"email" TEXT,"create_date" INTEGER,"max_challenges" INTEGER DEFAULT 999 ,"status" TEXT DEFAULT "active" ,"losses" INTEGER DEFAULT 0 ,"wins" INTEGER DEFAULT 0 ,"admin" INTEGER DEFAULT 0 ,"email_notification" INTEGER DEFAULT 0 );
CREATE INDEX "rank_user" ON "rank_history" ("user_id" ASC);